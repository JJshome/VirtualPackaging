<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
  <style>
    @keyframes pulse {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }
    @keyframes flow {
      0% { stroke-dashoffset: 50; }
      100% { stroke-dashoffset: 0; }
    }
    @keyframes glow {
      0% { filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.3)); }
      50% { filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.7)); }
      100% { filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.3)); }
    }
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-3px); }
      100% { transform: translateY(0px); }
    }
    .pulse { animation: pulse 2s ease-in-out infinite; }
    .flow { animation: flow 2s linear infinite; stroke-dasharray: 10, 5; }
    .glow { animation: glow 3s ease-in-out infinite; }
    .float { animation: float 3s ease-in-out infinite; }
    .module { cursor: pointer; }
    text { font-family: Arial, sans-serif; }
    .bold { font-weight: bold; }
    .small { font-size: 11px; }
  </style>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#F8FAFC" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="40" font-size="24" font-weight="bold" text-anchor="middle" fill="#1E3A8A">VirtualPackaging Architecture</text>
  <text x="400" y="65" font-size="14" text-anchor="middle" fill="#4B5563">Component-based modular design for flexibility and scalability</text>
  
  <!-- Layers background -->
  <rect x="100" y="100" width="600" height="100" rx="5" ry="5" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
  <rect x="100" y="210" width="600" height="100" rx="5" ry="5" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
  <rect x="100" y="320" width="600" height="100" rx="5" ry="5" fill="#BFDBFE" stroke="#3B82F6" stroke-width="2"/>
  
  <!-- Layer titles -->
  <text x="120" y="120" font-size="14" font-weight="bold" fill="#1E3A8A">User Interface Layer</text>
  <text x="120" y="230" font-size="14" font-weight="bold" fill="#1E3A8A">Application Layer</text>
  <text x="120" y="340" font-size="14" font-weight="bold" fill="#1E3A8A">Infrastructure Layer</text>
  
  <!-- UI Layer Components -->
  <g class="module float">
    <rect x="150" y="130" width="120" height="60" rx="5" ry="5" fill="#60A5FA" stroke="#3B82F6" stroke-width="2"/>
    <text x="210" y="160" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Web Interface</text>
    <text x="210" y="175" font-size="10" text-anchor="middle" fill="white">React + Three.js</text>
  </g>
  
  <g class="module float">
    <rect x="290" y="130" width="120" height="60" rx="5" ry="5" fill="#60A5FA" stroke="#3B82F6" stroke-width="2"/>
    <text x="350" y="160" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Mobile App</text>
    <text x="350" y="175" font-size="10" text-anchor="middle" fill="white">React Native</text>
  </g>
  
  <g class="module float">
    <rect x="430" y="130" width="120" height="60" rx="5" ry="5" fill="#60A5FA" stroke="#3B82F6" stroke-width="2"/>
    <text x="490" y="155" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Design Preview</text>
    <text x="490" y="170" font-size="10" text-anchor="middle" fill="white">WebGL Renderer</text>
    <text x="490" y="185" font-size="10" text-anchor="middle" fill="white">3D Visualization</text>
  </g>
  
  <g class="module float">
    <rect x="570" y="130" width="120" height="60" rx="5" ry="5" fill="#60A5FA" stroke="#3B82F6" stroke-width="2"/>
    <text x="630" y="160" font-size="12" font-weight="bold" text-anchor="middle" fill="white">API Gateway</text>
    <text x="630" y="175" font-size="10" text-anchor="middle" fill="white">RESTful Endpoints</text>
  </g>
  
  <!-- Application Layer Components -->
  <g class="module glow">
    <rect x="150" y="240" width="110" height="60" rx="5" ry="5" fill="#3B82F6" stroke="#2563EB" stroke-width="2"/>
    <text x="205" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Capture Module</text>
    <text x="205" y="280" font-size="10" text-anchor="middle" fill="white">3D Reconstruction</text>
  </g>
  
  <g class="module glow">
    <rect x="275" y="240" width="110" height="60" rx="5" ry="5" fill="#3B82F6" stroke="#2563EB" stroke-width="2"/>
    <text x="330" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Design Engine</text>
    <text x="330" y="280" font-size="10" text-anchor="middle" fill="white">Package Generation</text>
  </g>
  
  <g class="module glow">
    <rect x="400" y="240" width="110" height="60" rx="5" ry="5" fill="#3B82F6" stroke="#2563EB" stroke-width="2"/>
    <text x="455" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="white">LLM Integration</text>
    <text x="455" y="280" font-size="10" text-anchor="middle" fill="white">Text & Interaction</text>
  </g>
  
  <g class="module glow">
    <rect x="525" y="240" width="110" height="60" rx="5" ry="5" fill="#3B82F6" stroke="#2563EB" stroke-width="2"/>
    <text x="580" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Export Module</text>
    <text x="580" y="280" font-size="10" text-anchor="middle" fill="white">CAD File Generation</text>
  </g>
  
  <!-- Infrastructure Layer Components -->
  <g class="module pulse">
    <rect x="150" y="350" width="100" height="60" rx="5" ry="5" fill="#2563EB" stroke="#1E40AF" stroke-width="2"/>
    <text x="200" y="375" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Cloud Storage</text>
    <text x="200" y="390" font-size="10" text-anchor="middle" fill="white">AWS S3</text>
  </g>
  
  <g class="module pulse">
    <rect x="265" y="350" width="100" height="60" rx="5" ry="5" fill="#2563EB" stroke="#1E40AF" stroke-width="2"/>
    <text x="315" y="375" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Database</text>
    <text x="315" y="390" font-size="10" text-anchor="middle" fill="white">MongoDB</text>
  </g>
  
  <g class="module pulse">
    <rect x="380" y="350" width="100" height="60" rx="5" ry="5" fill="#2563EB" stroke="#1E40AF" stroke-width="2"/>
    <text x="430" y="375" font-size="12" font-weight="bold" text-anchor="middle" fill="white">AI Services</text>
    <text x="430" y="390" font-size="10" text-anchor="middle" fill="white">TensorFlow/PyTorch</text>
  </g>
  
  <g class="module pulse">
    <rect x="495" y="350" width="100" height="60" rx="5" ry="5" fill="#2563EB" stroke="#1E40AF" stroke-width="2"/>
    <text x="545" y="370" font-size="12" font-weight="bold" text-anchor="middle" fill="white">LLM Service</text>
    <text x="545" y="385" font-size="10" text-anchor="middle" fill="white">OpenAI API</text>
    <text x="545" y="400" font-size="10" text-anchor="middle" fill="white">or Self-hosted</text>
  </g>
  
  <g class="module pulse">
    <rect x="610" y="350" width="80" height="60" rx="5" ry="5" fill="#2563EB" stroke="#1E40AF" stroke-width="2"/>
    <text x="650" y="375" font-size="12" font-weight="bold" text-anchor="middle" fill="white">CDN</text>
    <text x="650" y="390" font-size="10" text-anchor="middle" fill="white">Fast Delivery</text>
  </g>
  
  <!-- Data Flow Arrows -->
  <!-- UI to Application -->
  <line x1="210" y1="190" x2="210" y2="240" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="350" y1="190" x2="350" y2="240" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="490" y1="190" x2="490" y2="240" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="630" y1="190" x2="580" y2="240" stroke="#3B82F6" stroke-width="2" class="flow"/>
  
  <!-- Application to Infrastructure -->
  <line x1="205" y1="300" x2="205" y2="350" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="315" y1="300" x2="315" y2="350" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="330" y1="300" x2="430" y2="350" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="455" y1="300" x2="545" y2="350" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <line x1="580" y1="300" x2="650" y2="350" stroke="#3B82F6" stroke-width="2" class="flow"/>
  
  <!-- Application Layer Interconnections -->
  <path d="M260,270 C275,270 275,270 290,270" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <path d="M385,270 C392,270 392,270 400,270" stroke="#3B82F6" stroke-width="2" class="flow"/>
  <path d="M510,270 C517,270 517,270 525,270" stroke="#3B82F6" stroke-width="2" class="flow"/>
  
  <!-- Legend -->
  <rect x="120" y="430" width="15" height="15" fill="#60A5FA"/>
  <text x="145" y="443" font-size="12" fill="#4B5563">User Interface Components</text>
  
  <rect x="330" y="430" width="15" height="15" fill="#3B82F6"/>
  <text x="355" y="443" font-size="12" fill="#4B5563">Application Services</text>
  
  <rect x="530" y="430" width="15" height="15" fill="#2563EB"/>
  <text x="555" y="443" font-size="12" fill="#4B5563">Infrastructure</text>
  
  <line x1="630" y1="430" x2="660" y2="430" stroke="#3B82F6" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="675" y="443" font-size="12" fill="#4B5563">Data Flow</text>
</svg>
